{"ast":null,"code":"var _class;\nimport { inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NewspapersLastestComponent } from '../newspapers-lastest/newspapers-lastest.component';\nimport { NewspapersService } from '../newspapers.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../newspapers.service\";\nimport * as i3 from \"@angular/common\";\nfunction NewspapersComponent_app_newspapers_lastest_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-newspapers-lastest\", 1);\n  }\n  if (rf & 2) {\n    const newspapersLastest_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"newspapersLastest\", newspapersLastest_r1);\n  }\n}\nexport class NewspapersComponent {\n  constructor(route, router, newspaperService) {\n    this.route = route;\n    this.router = router;\n    this.newspaperService = newspaperService;\n    this.currentPage = 0;\n    this.id = 1;\n    this.temp = 0;\n    this.countPage = 10;\n    this.newspapersLastestList = [];\n    this.newspapersService = inject(NewspapersService);\n    this.isScrollingActive = true;\n    this.route.queryParams.subscribe(params => {\n      this.id = params['id'];\n      if (!this.id) {\n        this.id = 1;\n      }\n      this.currentPage = 0;\n      this.newspapersLastestList = []; // Reset the list\n      this.loadMoreNews();\n    });\n  }\n  ngOnInit() {\n    window.addEventListener('scroll', this.handleScroll.bind(this));\n  }\n  handleScroll() {\n    if (this.isScrollingActive) {\n      const scrollPosition = window.innerHeight + window.scrollY;\n      const totalHeight = document.documentElement.scrollHeight;\n      console.log(this.temp);\n      if (scrollPosition >= totalHeight) {\n        this.currentPage++;\n        // this.countPage += 10;\n        // if (this.countPage % 10 == 0){\n        this.loadMoreNews();\n        // }\n      }\n    }\n  }\n\n  loadMoreNews() {\n    this.newspapersService.getAllNewspapersLastest(this.id, this.currentPage).then(newspapersLastestList => {\n      this.newspapersLastestList.push(...newspapersLastestList);\n      const temp = this.newspapersLastestList.length;\n    });\n  }\n}\n_class = NewspapersComponent;\n_class.ɵfac = function NewspapersComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.NewspapersService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-newspapers\"]],\n  standalone: true,\n  features: [i0.ɵɵProvidersFeature([_class]), i0.ɵɵStandaloneFeature],\n  decls: 1,\n  vars: 1,\n  consts: [[3, \"newspapersLastest\", 4, \"ngFor\", \"ngForOf\"], [3, \"newspapersLastest\"]],\n  template: function NewspapersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, NewspapersComponent_app_newspapers_lastest_0_Template, 1, 1, \"app-newspapers-lastest\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngForOf\", ctx.newspapersLastestList);\n    }\n  },\n  dependencies: [CommonModule, i3.NgForOf, NewspapersLastestComponent],\n  styles: [\".results[_ngcontent-%COMP%] {\\n    display: grid;\\n    column-gap: 14px;\\n    row-gap: 14px;\\n    grid-template-columns: repeat(auto-fill, minmax(400px, 400px));\\n    margin-top: 50px;\\n    justify-content: space-around;\\n  }\\n  \\n  input[type=\\\"text\\\"][_ngcontent-%COMP%] {\\n    border: solid 1px var(--primary-color);\\n    padding: 10px;\\n    border-radius: 8px;\\n    margin-right: 4px;\\n    display: inline-block;\\n    width: 30%;\\n  }\\n  .object-fit-lg-contain[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  overflow: auto;\\n  max-height: 100vh; \\n\\n}\\n\\n  button[_ngcontent-%COMP%] {\\n    padding: 10px;\\n    border: solid 1px var(--primary-color);\\n    background: var(--primary-color);\\n    color: white;\\n    border-radius: 8px;\\n  }\\n  \\n  @media (min-width: 500px) and (max-width: 768px) {\\n    .results[_ngcontent-%COMP%] {\\n        grid-template-columns: repeat(2, 1fr);\\n    }\\n    input[type=\\\"text\\\"][_ngcontent-%COMP%] {\\n        width: 70%;\\n    }   \\n  }\\n  \\n  @media (max-width: 499px) {\\n    .results[_ngcontent-%COMP%] {\\n        grid-template-columns: 1fr;\\n    }    \\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbmV3c3BhcGVycy9uZXdzcGFwZXJzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2IsZ0JBQWdCO0lBQ2hCLGFBQWE7SUFDYiw4REFBOEQ7SUFDOUQsZ0JBQWdCO0lBQ2hCLDZCQUE2QjtFQUMvQjs7RUFFQTtJQUNFLHNDQUFzQztJQUN0QyxhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixxQkFBcUI7SUFDckIsVUFBVTtFQUNaO0VBQ0E7RUFDQSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixjQUFjO0VBQ2QsaUJBQWlCLEVBQUUsd0RBQXdEO0FBQzdFOztFQUVFO0lBQ0UsYUFBYTtJQUNiLHNDQUFzQztJQUN0QyxnQ0FBZ0M7SUFDaEMsWUFBWTtJQUNaLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFO1FBQ0kscUNBQXFDO0lBQ3pDO0lBQ0E7UUFDSSxVQUFVO0lBQ2Q7RUFDRjs7RUFFQTtJQUNFO1FBQ0ksMEJBQTBCO0lBQzlCO0FBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyIucmVzdWx0cyB7XHJcbiAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgY29sdW1uLWdhcDogMTRweDtcclxuICAgIHJvdy1nYXA6IDE0cHg7XHJcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCg0MDBweCwgNDAwcHgpKTtcclxuICAgIG1hcmdpbi10b3A6IDUwcHg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcclxuICB9XHJcbiAgXHJcbiAgaW5wdXRbdHlwZT1cInRleHRcIl0ge1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggdmFyKC0tcHJpbWFyeS1jb2xvcik7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiA0cHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICB3aWR0aDogMzAlO1xyXG4gIH1cclxuICAub2JqZWN0LWZpdC1sZy1jb250YWluIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgbWF4LWhlaWdodDogMTAwdmg7IC8qIEdpw6HCu8KbaSBow6HCusKhbiBjaGnDocK7woF1IGNhbyB0w6HCu8KRaSDDhMKRYSBsw4PCoCBjaGnDocK7woF1IGNhbyBjw6HCu8KnYSBtw4PCoG4gaMODwqxuaCAqL1xyXG59XHJcblxyXG4gIGJ1dHRvbiB7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggdmFyKC0tcHJpbWFyeS1jb2xvcik7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICB9XHJcbiAgXHJcbiAgQG1lZGlhIChtaW4td2lkdGg6IDUwMHB4KSBhbmQgKG1heC13aWR0aDogNzY4cHgpIHtcclxuICAgIC5yZXN1bHRzIHtcclxuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpO1xyXG4gICAgfVxyXG4gICAgaW5wdXRbdHlwZT1cInRleHRcIl0ge1xyXG4gICAgICAgIHdpZHRoOiA3MCU7XHJcbiAgICB9ICAgXHJcbiAgfVxyXG4gIFxyXG4gIEBtZWRpYSAobWF4LXdpZHRoOiA0OTlweCkge1xyXG4gICAgLnJlc3VsdHMge1xyXG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xyXG4gICAgfSAgICBcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["inject","CommonModule","NewspapersLastestComponent","NewspapersService","i0","ɵɵelement","ɵɵproperty","newspapersLastest_r1","NewspapersComponent","constructor","route","router","newspaperService","currentPage","id","temp","countPage","newspapersLastestList","newspapersService","isScrollingActive","queryParams","subscribe","params","loadMoreNews","ngOnInit","window","addEventListener","handleScroll","bind","scrollPosition","innerHeight","scrollY","totalHeight","document","documentElement","scrollHeight","console","log","getAllNewspapersLastest","then","push","length","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","selectors","standalone","features","ɵɵProvidersFeature","ɵɵStandaloneFeature","decls","vars","consts","template","NewspapersComponent_Template","rf","ctx","ɵɵtemplate","NewspapersComponent_app_newspapers_lastest_0_Template","i3","NgForOf","styles"],"sources":["C:\\Users\\nguye\\Videos\\frontend_newspapers-main\\src\\app\\newspapers\\newspapers.component.ts"],"sourcesContent":["import { Component, inject, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { NewspapersLastestComponent } from '../newspapers-lastest/newspapers-lastest.component';\nimport { Newspaperslastest } from '../newspaperslastest';\nimport { NewspapersService } from '../newspapers.service';\n\n@Component({\n  selector: 'app-newspapers',\n  standalone: true,\n  imports: [CommonModule, NewspapersLastestComponent],\n  styleUrls: ['./newspapers.component.css'],providers: [NewspapersComponent],\n  template: `\n    <app-newspapers-lastest *ngFor=\"let newspapersLastest of newspapersLastestList\" [newspapersLastest]=\"newspapersLastest\"></app-newspapers-lastest>\n  `\n})\nexport class NewspapersComponent implements OnInit {\n  currentPage = 0;\n  id = 1;\n  temp = 0;\n  countPage = 10;\n  newspapersLastestList: Newspaperslastest[] = [];\n  newspapersService: NewspapersService = inject(NewspapersService);\n  isScrollingActive: boolean = true;\n  constructor(private route: ActivatedRoute, private router: Router, private newspaperService: NewspapersService) {\n    this.route.queryParams.subscribe(params => {\n      this.id = params['id'];\n      if (!this.id) {\n        this.id = 1;\n      }\n      this.currentPage = 0;\n      this.newspapersLastestList = []; // Reset the list\n      this.loadMoreNews();\n    });\n  }\n\n  ngOnInit() {\n    window.addEventListener('scroll', this.handleScroll.bind(this));\n  }\n\n  handleScroll() {\n    if(this.isScrollingActive){\n    const scrollPosition = window.innerHeight + window.scrollY;\n    const totalHeight = document.documentElement.scrollHeight;\n    console.log(this.temp);\n    if (scrollPosition >= totalHeight ) {\n      this.currentPage++;\n      // this.countPage += 10;\n      // if (this.countPage % 10 == 0){\n          this.loadMoreNews();\n\n      // }\n\n    }\n  }\n}\n  private loadMoreNews() {\n    this.newspapersService.getAllNewspapersLastest(this.id, this.currentPage).then((newspapersLastestList: Newspaperslastest[]) => {\n      this.newspapersLastestList.push(...newspapersLastestList);\n      const temp = this.newspapersLastestList.length ;\n    });\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}